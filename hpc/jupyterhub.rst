.. _jupyterhub_sge:

Jupyter and JupyterHub
======================

..
    -> commented out as don't want autogenerated table of contents here
    .. contents::
       :local:

Introduction
------------

Jupyter_ Notebooks are executable documents containing:
**formatted text**,
formatted **maths**,
chunks of **code** plus
**figures**, **tables** and **textual output generated** by that code.

Notebooks can be used:

* to develop and execute linear data analysis workflows;
* to `present linear workflows`_ to others;
* as runnable documentation for software packages (e.g. `NetworkX examples`_);
* as *executable teaching materials* (e.g. `BAD days`_ tutorials);
* as `runnable journal papers`_?

Jupyter itself is web application that 
interprets, runs and renders Notebooks.
You interact with it by 
As you interact with it by just connecting from your web browser
the Jupyter server software can be running on 
your local machine or
a **remote server**
(which may have more memory, CPU cores and/or GPUs than your local machine).

On the university's **ShARC cluster** a (:ref:`beta <jh_svc_status>`) JupyterHub_ service allows a user to:

#. **Log in** to the JupyterHub web inteface,
#. Specify what resources (**memory, CPU cores, GPUs**) they want for a Jupyter session,
#. **Start** and **run** a **Jupyter Notebook server on a worker node** in the cluster using these resources.

..
    More background?
    Background on separate page?
    Mention credits here? :ref:`developed <jh_workings>` by ODK (link to :ref:`#credits <jh_svc_credits>`)


.. _jh_usage:

Using Jupyter on ShARC
----------------------

.. toctree::
   :numbered:
   :maxdepth: 1

   Quickstart <jupyterhub/quickstart>
   Connecting to JupyterHub <jupyterhub/conn>
   Requesting resources (RAM, processors, GPUs) for your JupyterHub session <jupyterhub/res_req>
   Jupyter file browser <jupyterhub/file_browse>
   Terminal in your browser <jupyterhub/terminal>
   Programming languages, software packages and execution environments <jupyterhub/conda>
   Creating, editing and running Jupyter Notebooks <jupyterhub/nb_usage>
   Using multiple CPU cores and GPUs <jupyterhub/cpus_gpus>
   Monitoring and controlling your Jupyter session <jupyterhub/sess_monit>
   Errors and troubleshooting <jupyterhub/issues>


.. _jh_svc_status:

Status of ShARC's JupyterHub service
------------------------------------

.. warning::
    This service is currenty **experimental**.
    If you use this service and encounter a problem,
    please provide feedback to
    `w.furnass@sheffield.ac.uk <w.furnass@sheffield.ac.uk>`_.


.. _jh_workings:

JupyterHub on a Grid Engine cluster: internal workings
------------------------------------------------------

**TODO**

.. _jh_svc_credits:

Credits
-------

The JupyterHub service on ShARC is currently developed and maintained by the University's `Research Software Engineering team`_.  This work has been funded by OpenDreamKit_, a Horizon2020_ European `Research Infrastructure`_ project (676541_) that aims to advance the open source computational mathematics ecosystem.

.. image:: /images/jupyterhub/opendreamkit.svg
   :width: 10%
   :alt: OpenDreamKit logo
   :align: center
   :target: OpenDreamKit_


Using Jupyter on Iceberg
------------------------

From a web browser navigate to: ::

    https://jupyter.shef.ac.uk

The JupyterHub service for Iceberg predates that of ShARC and is **much more basic**.
There is currently no way you can request specific resources
(multiple CPU cores, GPU(s), more RAM etc)
from the cluster's job scheduler when using JupyterHub.
Your Notebook session will therefore get
one CPU core and the default amount of RAM per job for the cluster you've connected to.


.. _676541: http://cordis.europa.eu/project/rcn/198334_en.html
.. _Horizon2020: https://ec.europa.eu/programmes/horizon2020/
.. _Jupyter: https://jupyter.org/
.. _JupyterHub: https://jupyterhub.readthedocs.io/
.. _OpenDreamKit: http://opendreamkit.org/
.. _Research Infrastructure: https://ec.europa.eu/programmes/horizon2020/en/h2020-section/european-research-infrastructures-including-e-infrastructures
.. _Research Software Engineering team: http://rse.shef.ac.uk
.. _BAD days: http://bitsandchips.me/BAD_days/
.. _NetworkX examples: https://networkx.github.io/documentation/stable/auto_examples/index.html
.. _runnable journal papers: http://nbviewer.jupyter.org/github/cossatot/lanf_earthquake_likelihood/blob/master/notebooks/lanf_manuscript_notebook.ipynb
.. _present linear workflows: http://nbviewer.jupyter.org/github/machinalis/satimg/blob/master/Searching%20for%20aliens.ipynb
