#%Module1.0#####################################################################
##
## MVAPICH2 (+ Intel compilers) module file
##

## Module file logging
source /usr/local/etc/module_logging.tcl

proc ModulesHelp { } {
    global vers
    global compilervers

    puts stderr "   Adds mvapich2 $vers (+ Intel $compilervers compiler) to your PATH environment variable and necessary libraries"
}

set vers         2.3b
set compilervers 17.0.0
set prefix       /usr/local/packages/mpi/mvapich2/$vers/intel-$compilervers

module-whatis   "Adds mvapich2 $vers (+ Intel $compilervers compiler) to your PATH environment variable and necessary libraries"

module load dev/intel-compilers/$compilervers

setenv MPI_HOME $prefix

prepend-path CPATH $prefix/include
prepend-path PATH $prefix/bin
prepend-path LD_LIBRARY_PATH $prefix/lib
prepend-path LIBRARY_PATH $prefix/lib
prepend-path MANPATH $prefix/share/man

# CPU binding policy = bunch (default) | scatter
#MV2_CPU_BINDING_POLICY=scatter
# CPU binding level = core | socket | numa
#MV2_CPU_BINDING_LEVEL=core
#
# Found in this thread:
#
# http://mailman.cse.ohio-state.edu/pipermail/mvapich-discuss/2017-June/006414.html
